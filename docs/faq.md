# 常见问题

本文档收集了使用 LungVision 软件时的常见问题和解答，帮助您更好地使用本软件进行胸部X-Ray图像的分析和处理。

## 软件使用方法

### 基本操作流程

1. **启动软件**
   - 双击运行 `main.py` 文件或使用命令行 `python main.py`
   - 软件启动后会显示主界面

2. **加载图像**
   - 点击界面顶部的"加载图像"按钮
   - 在文件选择对话框中选择一张胸部X-Ray图像（支持PNG、JPG、DICOM等格式）
   - 图像将显示在主视图区域

3. **图像增强**
   - 在右侧面板选择"图像增强"选项卡
   - 从下拉菜单选择增强算法（如直方图均衡化、CLAHE等）
   - 根据需要调整算法参数
   - 点击"应用增强"按钮
   - 增强后的图像将显示在主视图区域

4. **肺叶分割**
   - 在右侧面板选择"肺叶分割"选项卡
   - 从下拉菜单选择分割算法（如阈值分割、区域生长等）
   - 根据需要调整算法参数
   - 点击"应用分割"按钮
   - 分割结果将显示在主视图区域，肺叶区域会被标记出来

5. **保存结果**
   - 点击"保存结果"按钮
   - 在文件保存对话框中选择保存位置和格式
   - 可以选择保存原始图像、增强后的图像或分割结果

### 界面说明

- **主视图区域**：显示当前处理的图像
- **工具栏**：包含常用操作按钮，如加载图像、保存结果等
- **右侧面板**：包含图像增强和肺叶分割的选项卡，可以选择算法和调整参数
- **状态栏**：显示当前操作状态和提示信息

## 常见问题解答

### 图像加载问题

**Q: 支持哪些图像格式？**

A: LungVision 支持常见的医学图像格式，包括：
- PNG
- JPG/JPEG
- DICOM（医学影像标准格式）
- TIFF

**Q: 为什么我的图像加载后显示为灰度图？**

A: LungVision 专为处理医学X-Ray图像设计，这类图像通常为灰度图。彩色图像会自动转换为灰度图以便处理。

**Q: 图像尺寸有限制吗？**

A: 建议使用分辨率在 512×512 到 2048×2048 之间的图像，过大的图像可能会导致处理速度变慢。

### 图像增强问题

**Q: 如何选择合适的增强算法？**

A: 这取决于您的具体需求：
- 对比度不足：尝试直方图均衡化或CLAHE
- 图像过暗/过亮：尝试伽马校正
- 细节不清晰：尝试非锐化掩蔽
- 图像有噪声：尝试小波去噪

**Q: 增强算法的参数应该如何设置？**

A: 参数设置取决于图像特性和您的需求：
- CLAHE：剪裁限制值通常设置在 2.0-4.0 之间，网格大小建议 8×8
- 伽马校正：伽马值小于1使暗区更亮，大于1使亮区更暗
- 非锐化掩蔽：半径通常设置在 1-5 之间，强度在 0.5-2.0 之间
- 小波去噪：阈值通常设置在 10-50 之间，层级在 1-3 之间

**Q: 应用多种增强算法的顺序有影响吗？**

A: 是的，不同的算法顺序可能产生不同的结果。建议的顺序是：
1. 先进行去噪（如小波去噪）
2. 然后进行对比度增强（如直方图均衡化或CLAHE）
3. 最后进行细节增强（如非锐化掩蔽）

### 肺叶分割问题

**Q: 分割结果不理想怎么办？**

A: 尝试以下方法：
- 先应用图像增强，再进行分割
- 调整算法参数，如阈值、迭代次数等
- 尝试不同的分割算法
- 对于复杂图像，区域生长和分水岭分割通常效果更好

**Q: 为什么有些算法运行很慢？**

A: 主动轮廓和分水岭分割等算法计算复杂度较高，处理大图像时可能需要较长时间。可以尝试先将图像缩小再处理。

**Q: U-Net深度学习分割为什么没有实际效果？**

A: 当前版本的U-Net实现是模拟的，没有包含实际训练的深度学习模型。在未来版本中，我们计划集成预训练的肺部分割模型。

### 其他问题

**Q: 软件崩溃了怎么办？**

A: 请尝试以下步骤：
1. 重新启动软件
2. 检查图像格式是否支持
3. 减小图像尺寸后再试
4. 检查是否有足够的系统内存

**Q: 如何报告Bug或提出建议？**

A: LungVision 是一个用于教育和研究目的的开源项目。如有问题或建议，请通过项目仓库提交issue或联系开发团队。

**Q: 是否有批处理功能？**

A: 当前版本不支持批处理。未来版本计划添加批量处理多张图像的功能。

## 性能优化建议

- 处理大型图像前先进行适当缩小
- 关闭其他占用内存的应用程序
- 对于复杂的分割任务，先进行图像增强再分割
- 使用SSD存储可以提高图像加载和保存速度

## 更新与支持

LungVision 是一个持续开发的项目，我们会定期更新和改进软件功能。请关注项目仓库获取最新版本和更新信息。

如需技术支持或有任何问题，请通过以下方式联系我们：
- 项目仓库Issue区
- 本人邮箱：wanghaotian70094 [at] foxmail.com